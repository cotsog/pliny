#!/usr/bin/env ruby

require "optparse"
require_relative '../lib/pliny/commands/creator'

OptionParser.new do |options|
  opts = {}
  options.on("-d", "--docker", "Enable docker support.") do |v|
    opts[:docker] = v
  end
  options.banner = "Usage: pliny-new app-name [options]"

  begin
    options.parse!
    if ARGV.empty?
      puts options.banner
    else
      Pliny::Commands::Creator.run(ARGV.dup, opts)
    end
  rescue OptionParser::InvalidOption => e
    puts e
    puts options.banner
  end
end
